<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>PropScholar Admin Dashboard</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#001a4d 0%,#0d3b8f 100%);min-height:100vh;color:#fff;padding:20px}.container{max-width:1200px;margin:0 auto}.header{background:rgba(0,0,0,.3);border-radius:10px;padding:30px;margin-bottom:30px;border-left:5px solid #00d4ff}.header h1{font-size:28px;margin-bottom:5px}.header p{color:rgba(255,255,255,.8)}.tabs{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.tab-btn{background:rgba(0,212,255,.2);border:2px solid #00d4ff;color:#00d4ff;padding:12px 20px;border-radius:5px;cursor:pointer;font-size:14px;font-weight:600;transition:all .3s}.tab-btn.active{background:#00d4ff;color:#001a4d}.tab-btn:hover{transform:translateY(-2px)}.tab-content{display:none}.tab-content.active{display:block}.form-section{background:rgba(0,0,0,.3);border-radius:10px;padding:25px;margin-bottom:20px}.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.form-group{margin-bottom:20px}.form-group label{display:block;margin-bottom:8px;font-size:14px;font-weight:600;color:#00d4ff}input,textarea,select{width:100%;padding:12px;background:rgba(255,255,255,.1);border:1px solid #00d4ff;border-radius:5px;color:#fff;font-size:14px;font-family:inherit}input::placeholder,textarea::placeholder{color:rgba(255,255,255,.5)}input:focus,textarea:focus,select:focus{outline:0;background:rgba(0,212,255,.1);box-shadow:0 0 10px rgba(0,212,255,.3)}.image-preview{margin-top:10px;width:100px;height:100px;border-radius:5px;background:rgba(0,212,255,.1);display:flex;align-items:center;justify-content:center;font-size:40px;border:2px dashed #00d4ff}.btn{padding:12px 30px;background:linear-gradient(135deg,#00d4ff 0%,#00a8cc 100%);color:#001a4d;border:0;border-radius:5px;cursor:pointer;font-weight:600;font-size:14px;transition:all .3s}.btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,212,255,.3)}.btn:disabled{background:#666;cursor:not-allowed;opacity:.5}.message{padding:15px;border-radius:5px;margin-bottom:20px;font-weight:600;display:none}.message.success{background:rgba(0,200,0,.2);color:#0f0;border-left:4px solid #0f0;display:block}.message.error{background:rgba(200,0,0,.2);color:red;border-left:4px solid red;display:block}table{width:100%;border-collapse:collapse;margin-top:20px}th,td{padding:12px;text-align:left;border-bottom:1px solid rgba(0,212,255,.2)}th{background:rgba(0,212,255,.1);font-weight:600;color:#00d4ff}td{color:rgba(255,255,255,.8)}.h3{color:#00d4ff;margin-bottom:20px;font-size:18px}</style></head><body><div class="container"><div class="header"><h1>üöÄ PropScholar Admin Dashboard</h1><p>Manage Blog Contests & Events</p></div><div class="tabs"><button class="tab-btn active" onclick="switchTab('create-event')">‚ûï Create Event</button><button class="tab-btn" onclick="switchTab('view-events')">üìã View Events</button><button class="tab-btn" onclick="switchTab('submissions')">üìù Submissions</button></div><div id="create-event" class="tab-content active"><div class="form-section"><h2 class="h3">Create New Blog Contest</h2><div id="createMsg" class="message"></div><form id="eventForm"><div class="form-grid"><div class="form-group"><label>Event Title</label><input type="text" id="eventTitle" placeholder="e.g., Trading Blog Challenge #1" required></div><div class="form-group"><label>Event Slug</label><input type="text" id="eventSlug" placeholder="e.g., trading-challenge-1" required></div></div><div class="form-group"><label>Description</label><textarea id="eventDesc" placeholder="Event description..." rows="4"></textarea></div><div class="form-grid"><div class="form-group"><label>Start Date & Time</label><input type="datetime-local" id="eventStart" required></div><div class="form-group"><label>End Date & Time (Expiry)</label><input type="datetime-local" id="eventEnd" required></div></div><div class="form-grid"><div class="form-group"><label>Minimum Words</label><input type="number" id="eventMinWords" value="250" min="100"></div><div class="form-group"><label>Prize / Reward Money</label><input type="text" id="eventReward" placeholder="e.g., ‚Çπ5,000" value="‚Çπ5,000"></div></div><div class="form-group"><label>Event Image (Emoji or URL)</label><input type="text" id="eventImage" placeholder="e.g., üéØ or image URL" value="üéØ"><div class="image-preview" id="imagePreview">üéØ</div></div><button type="button" class="btn" onclick="createEvent()">‚ú® Create Event</button></form></div></div><div id="view-events" class="tab-content"><div class="form-section"><h2 class="h3">All Events</h2><div id="eventsList"></div></div></div><div id="submissions" class="tab-content"><div class="form-section"><h2 class="h3">Event Submissions</h2><div class="form-group"><label>Select Event</label><select id="eventSelect" onchange="loadSubmissions()" style="width:100%;max-width:400px;"><option value="">-- Select an event --</option></select></div><div id="submissionsList"></div></div></div></div><script>const API_BASE='http://localhost:3000',ADMIN_EMAIL='propscholars@gmail.com',ADMIN_PASSWORD='Hindi@1234';function switchTab(e){document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active')),document.querySelectorAll('.tab-btn').forEach(t=>t.classList.remove('active')),document.getElementById(e).classList.add('active'),event.target.classList.add('active'),'view-events'===e&&loadEvents()}document.getElementById('eventImage').addEventListener('input',e=>{document.getElementById('imagePreview').textContent=e.target.value||'üéØ'});async function createEvent(){const e=document.getElementById('eventTitle').value,t=document.getElementById('eventSlug').value,r=document.getElementById('eventDesc').value,n=document.getElementById('eventStart').value,o=document.getElementById('eventEnd').value,s=parseInt(document.getElementById('eventMinWords').value)||250,d=document.getElementById('eventReward').value||'‚Çπ5,000',a=document.getElementById('eventImage').value||'üéØ';if(!e||!t||!n||!o)return void showMessage('createMsg','All fields required','error');try{const i=await fetch(API_BASE+'/api/admin/events',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:ADMIN_EMAIL,password:ADMIN_PASSWORD,title:e,slug:t,description:r,startDate:n,endDate:o,minWords:s,reward:d,imageUrl:a})});if(i.ok){const l=await i.json();showMessage('createMsg','‚úÖ Event created! Access at /events/'+l.event.slug,'success'),document.getElementById('eventForm').reset(),document.getElementById('imagePreview').textContent='üéØ',loadEventsForSelect()}else{const l=await i.json();showMessage('createMsg',l.error||'Error creating event','error')}}catch(e){showMessage('createMsg','Network error','error')}}async function loadEvents(){try{const e=await fetch(API_BASE+'/api/admin/events'),t=await e.json();let r='<table><thead><tr><th>Title</th><th>Slug</th><th>Ends</th><th>Prize</th><th>Status</th></tr></thead><tbody>';t.forEach(e=>{const t=new Date(e.endDate),n=new Date<=t;r+='<tr><td>'+e.title+'</td><td>/events/'+e.slug+'</td><td>'+t.toLocaleDateString()+'</td><td>'+( e.reward||'‚Çπ5,000')+'</td><td>'+(n?'‚úÖ Active':'‚ùå Closed')+'</td></tr>'}),r+='</tbody></table>',document.getElementById('eventsList').innerHTML=r}catch(e){document.getElementById('eventsList').innerHTML='<p>Error loading events</p>'}}async function loadEventsForSelect(){try{const e=await fetch(API_BASE+'/api/admin/events'),t=await e.json(),r=document.getElementById('eventSelect');r.innerHTML='<option value="">-- Select an event --</option>',t.forEach(e=>{const t=document.createElement('option');t.value=e.slug,t.textContent=e.title,r.appendChild(t)})}catch(e){console.error('Error loading events')}}async function loadSubmissions(){const e=document.getElementById('eventSelect').value;e&&loadEventSubmissions(e)}async function loadEventSubmissions(e){try{const t=await fetch(API_BASE+'/api/admin/events/'+e+'/submissions'),r=await t.json();let n='<h3>Event: '+r.event.title+' ('+r.event.totalSubmissions+' submissions)</h3>';if(0===r.submissions.length)n+='<p>No submissions yet</p>';else{n+='<table><thead><tr><th>Name</th><th>Email</th><th>Phone</th><th>Words</th><th>Submitted</th></tr></thead><tbody>',r.submissions.forEach(e=>{const t=new Date(e.submittedAt).toLocaleDateString();n+='<tr><td>'+e.name+'</td><td>'+e.email+'</td><td>'+e.phone+'</td><td>'+e.wordCount+'</td><td>'+t+'</td></tr>'}),n+='</tbody></table>'}document.getElementById('submissionsList').innerHTML=n}catch(e){document.getElementById('submissionsList').innerHTML='<p>Error loading submissions</p>'}}function showMessage(e,t,r){const n=document.getElementById(e);n.textContent=t,n.className='message '+r,setTimeout(()=>{n.className='message'},5e3)}window.addEventListener('load',loadEventsForSelect);</script></body></html>
